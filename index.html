<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script>
(function(){
  var k='sd_tracker_auth';
  var h='a12c3b5e9f8d7c6e'; // hash of correct password
  function simpleHash(s){var h=0;for(var i=0;i<s.length;i++){h=((h<<5)-h)+s.charCodeAt(i);h|=0;}return (h>>>0).toString(16);}
  var correctHash=simpleHash('Pringles321!');
  if(sessionStorage.getItem(k)===correctHash) return;
  var p=prompt('Enter password to view tracker:');
  if(p && simpleHash(p)===correctHash){sessionStorage.setItem(k,correctHash);}
  else{document.documentElement.innerHTML='<body style="background:#111;color:#fff;display:flex;align-items:center;justify-content:center;height:100vh;font-family:sans-serif"><h1>Access Denied</h1></body>';throw new Error('denied');}
})();
</script>
<title>Schuyler Dental ‚Äî Master Project Tracker</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'DM Sans','Segoe UI',sans-serif;background:#0B0D11;color:#E2E8F0;min-height:100vh;-webkit-tap-highlight-color:transparent}
button{font-family:inherit}

.header{padding:20px 16px 14px;border-bottom:1px solid rgba(255,255,255,0.06)}
.header h1{font-size:18px;font-weight:700;color:#F8FAFC;letter-spacing:-0.02em}
.header .sub{font-size:12px;color:#64748B;font-weight:500;margin-top:2px}

.view-toggle{display:flex;gap:4px;margin-top:10px;flex-wrap:wrap}
.view-btn{padding:5px 14px;border-radius:6px;font-size:12px;font-weight:500;cursor:pointer;border:1px solid transparent;background:transparent;color:#64748B}
.view-btn.active{border-color:rgba(255,255,255,0.15);background:rgba(255,255,255,0.08);color:#F8FAFC}

.search-wrap{padding:10px 16px 0;display:flex;gap:8px;align-items:center}
.search-box{flex:1;padding:7px 12px;border-radius:6px;font-size:12px;font-family:inherit;border:1px solid rgba(255,255,255,0.1);background:rgba(255,255,255,0.04);color:#E2E8F0;outline:none}
.search-box::placeholder{color:#64748B}
.search-box:focus{border-color:rgba(96,165,250,0.4);background:rgba(255,255,255,0.06)}

.filters{padding:10px 16px;display:flex;flex-wrap:wrap;gap:6px;border-bottom:1px solid rgba(255,255,255,0.04)}
.filter-btn{padding:5px 10px;border-radius:6px;font-size:11px;font-weight:500;cursor:pointer;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#94A3B8;display:flex;align-items:center;gap:5px;white-space:nowrap}
.filter-btn.active{background:rgba(255,255,255,0.08);border-color:rgba(255,255,255,0.2);color:#F8FAFC}
.dot{width:7px;height:7px;border-radius:2px;flex-shrink:0}

.owner-filters{padding:6px 16px;display:flex;flex-wrap:wrap;gap:6px}
.owner-btn{padding:4px 10px;border-radius:6px;font-size:11px;font-weight:500;cursor:pointer;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#94A3B8}
.owner-btn.active{background:rgba(167,139,250,0.15);border-color:rgba(167,139,250,0.3);color:#A78BFA}

.content{padding:14px 16px 32px}

.day-group{margin-bottom:14px}
.day-header{display:flex;align-items:center;gap:8px;margin-bottom:5px;padding-bottom:4px;position:sticky;top:0;background:#0B0D11;z-index:2}
.day-date{font-size:13px;font-weight:700;color:#94A3B8;min-width:70px}
.day-date.today{color:#60A5FA}
.day-weekday{font-size:11px;color:#475569;font-weight:500}
.day-count{font-size:10px;color:#475569;background:rgba(255,255,255,0.04);padding:2px 8px;border-radius:10px;font-weight:600}
.day-line{flex:1;height:1px;background:rgba(255,255,255,0.04)}

.task-row{display:flex;align-items:center;gap:8px;min-height:32px;padding:4px 8px;border-radius:5px}
.task-row.milestone{background:linear-gradient(90deg,rgba(251,191,36,0.08),transparent);border-left:3px solid #FBBF24;padding-left:10px;min-height:38px}
.task-dot{width:6px;height:6px;border-radius:2px;flex-shrink:0;opacity:0.6}
.task-name{font-size:12.5px;color:#CBD5E1;flex:1;overflow:hidden;text-overflow:ellipsis}
.task-sector{font-size:9px;font-weight:500;opacity:0.7;white-space:nowrap;flex-shrink:0;text-align:right;max-width:90px;overflow:hidden;text-overflow:ellipsis}
.task-new{font-size:8px;background:rgba(96,165,250,0.15);color:#60A5FA;padding:1px 5px;border-radius:3px;font-weight:600;margin-left:4px;flex-shrink:0}
.task-ms{font-size:8px;background:rgba(251,191,36,0.2);color:#FBBF24;padding:1px 5px;border-radius:3px;font-weight:700;margin-left:4px;flex-shrink:0}
.task-status{font-size:8px;padding:1px 5px;border-radius:3px;font-weight:600;margin-left:4px;flex-shrink:0}
.task-status.st-done{background:rgba(34,197,94,0.15);color:#34D399}
.task-status.st-in-progress{background:rgba(96,165,250,0.15);color:#60A5FA}
.task-status.st-pending{background:rgba(251,191,36,0.15);color:#FBBF24}
.task-owner{font-size:9px;color:#A78BFA;opacity:0.7;margin-left:4px;flex-shrink:0}

.section-title{font-size:13px;font-weight:600;color:#94A3B8;margin-bottom:12px;letter-spacing:0.04em;text-transform:uppercase}
.heatmap-wrap{overflow-x:auto;-webkit-overflow-scrolling:touch;margin-bottom:24px;padding-bottom:4px}
.heatmap{display:flex;gap:2px;flex-wrap:wrap}
@media(max-width:600px){.heatmap{flex-wrap:nowrap;min-width:max-content}}
.heat-cell{display:flex;flex-direction:column;align-items:center;gap:3px}
.heat-box{width:24px;height:24px;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:9px;font-weight:600;color:#F8FAFC}
.heat-label{font-size:7px;color:#475569}

.bar-row{display:flex;align-items:center;gap:10px;margin-bottom:6px}
.bar-label{font-size:11px;color:#CBD5E1;width:140px;flex-shrink:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.bar-track{flex:1;height:14px;background:rgba(255,255,255,0.03);border-radius:3px;overflow:hidden}
.bar-fill{height:100%;border-radius:3px}
.bar-count{font-size:12px;font-weight:600;min-width:22px;text-align:right}

.stats{display:flex;gap:16px;flex-wrap:wrap;margin-top:24px;padding-top:18px;border-top:1px solid rgba(255,255,255,0.06)}
.stat{text-align:center}
.stat-value{font-size:24px;font-weight:700;color:#F8FAFC;letter-spacing:-0.02em}
.stat-label{font-size:10px;color:#64748B;font-weight:500;margin-top:2px}

.priority-group{margin-bottom:20px}
.priority-header{display:flex;align-items:center;gap:8px;margin-bottom:8px;padding-bottom:6px;border-bottom:1px solid rgba(255,255,255,0.04)}
.priority-badge{font-size:11px;font-weight:700;padding:3px 10px;border-radius:5px;letter-spacing:0.03em}
.priority-count{font-size:11px;color:#64748B;font-weight:500}

.action-item{display:flex;gap:10px;padding:10px 10px;border-radius:6px;margin-bottom:4px;background:rgba(255,255,255,0.015)}
.action-check{width:18px;height:18px;border-radius:4px;border:2px solid rgba(255,255,255,0.15);flex-shrink:0;margin-top:1px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.15s}
.action-check.checked{border-color:#34D399;background:#34D39930}
.action-check.checked::after{content:'‚úì';color:#34D399;font-size:11px;font-weight:700}
.action-body{flex:1}
.action-title{font-size:13px;color:#E2E8F0;font-weight:500;margin-bottom:3px}
.action-title.done{text-decoration:line-through;opacity:0.4}
.action-detail{font-size:11px;color:#64748B;line-height:1.4}
.action-tags{display:flex;gap:4px;margin-top:5px;flex-wrap:wrap}
.action-tag{font-size:9px;padding:2px 7px;border-radius:3px;font-weight:600}
.action-owner-tag{font-size:9px;padding:2px 7px;border-radius:3px;font-weight:600;background:rgba(167,139,250,0.15);color:#A78BFA}

.hidden{display:none}

.cal-section{margin-bottom:24px}
.cal-section-header{font-size:13px;font-weight:700;letter-spacing:0.04em;text-transform:uppercase;color:#94A3B8;margin-bottom:10px;display:flex;align-items:center;gap:8px}
.cal-section-header .cal-icon{font-size:15px}
.cal-event{display:flex;gap:10px;padding:10px;border-radius:6px;margin-bottom:4px;background:rgba(255,255,255,0.015);border-left:3px solid transparent}
.cal-event.meeting{border-left-color:#60A5FA}
.cal-event.travel{border-left-color:#FBBF24}
.cal-date-badge{min-width:56px;text-align:center;flex-shrink:0}
.cal-date-badge .cal-month{font-size:9px;font-weight:600;text-transform:uppercase;color:#64748B}
.cal-date-badge .cal-day{font-size:20px;font-weight:700;color:#F8FAFC;line-height:1.2}
.cal-date-badge .cal-weekday{font-size:9px;color:#64748B;font-weight:500}
.cal-body{flex:1}
.cal-title{font-size:13px;color:#E2E8F0;font-weight:500;margin-bottom:2px}
.cal-time{font-size:11px;color:#60A5FA;font-weight:500;margin-bottom:2px}
.cal-detail{font-size:11px;color:#64748B;line-height:1.4}
.cal-hotel{font-size:11px;color:#FBBF24;margin-top:3px;font-weight:500}
.cal-recurring{font-size:8px;background:rgba(96,165,250,0.15);color:#60A5FA;padding:1px 5px;border-radius:3px;font-weight:600;margin-left:6px}

/* Hub & Spoke Org Chart Styles */
.org-container{padding:20px 0}
.org-entity{margin-bottom:24px;border:1px solid rgba(255,255,255,0.08);border-radius:8px;padding:16px;background:rgba(255,255,255,0.02)}
.org-header{font-size:16px;font-weight:700;color:#F8FAFC;margin-bottom:8px;display:flex;align-items:center;gap:8px;cursor:pointer}
.org-header:hover{color:#60A5FA}
.org-subtitle{font-size:12px;color:#64748B;margin-bottom:12px;font-weight:500}
.org-tree{font-family:monospace;font-size:12px;line-height:1.6;color:#CBD5E1;margin-left:8px}
.org-tree .entity{color:#60A5FA;font-weight:600;margin:4px 0}
.org-tree .role{color:#A78BFA;font-size:11px}
.org-tree .date{color:#64748B;font-size:10px}
.org-branch{border-left:2px solid rgba(255,255,255,0.15);margin-left:8px;padding-left:12px;margin-bottom:8px}
.org-member{display:flex;align-items:center;gap:6px;margin:3px 0}
.org-role-badge{font-size:9px;background:rgba(167,139,250,0.15);color:#A78BFA;padding:1px 6px;border-radius:3px;font-weight:500}
.org-date-badge{font-size:8px;background:rgba(96,165,250,0.1);color:#60A5FA;padding:1px 4px;border-radius:2px;font-weight:500}
.collapsible{cursor:pointer}
.collapsible::before{content:'‚ñº ';color:#64748B;font-size:10px}
.collapsible.collapsed::before{content:'‚ñ∂ '}
.collapsible-content{overflow:hidden;transition:max-height 0.3s ease}
.collapsible-content.collapsed{max-height:0;opacity:0}

.subsection{margin:12px 0;padding-left:16px;border-left:2px solid rgba(255,255,255,0.1)}
.subsection-header{font-size:12px;font-weight:600;color:#A78BFA;margin-bottom:6px;cursor:pointer;display:flex;align-items:center;gap:6px}
.subsection-header::before{content:'‚ñº';font-size:8px;color:#64748B}
.subsection-header.collapsed::before{content:'‚ñ∂'}
.subsection-content{margin-left:16px}
.subsection-content.collapsed{display:none}
</style>
</head>
<body>

<div class="header">
  <h1>Schuyler Dental ‚Äî Master Tracker v3</h1>
  <div class="sub" id="subtitle"></div>
  <div class="view-toggle">
    <button class="view-btn active" onclick="setView('actions')" id="btn-actions">‚ö° Action Items</button>
    <button class="view-btn" onclick="setView('calendar')" id="btn-calendar">üìÖ Calendar</button>
    <button class="view-btn" onclick="setView('timeline')" id="btn-timeline">‚è∞ Timeline</button>
    <button class="view-btn" onclick="setView('summary')" id="btn-summary">üìä Summary</button>
    <button class="view-btn" onclick="setView('org')" id="btn-org">üè¢ Hub</button>
  </div>
</div>

<div class="search-wrap">
  <input type="text" class="search-box" id="search-input" placeholder="Search tasks, actions, events..." oninput="onSearch()">
</div>

<div id="filter-wrap" class="filters"></div>
<div id="owner-filter-wrap" class="owner-filters hidden"></div>

<div class="content">
  <div id="actions-view"></div>
  <div id="calendar-view" class="hidden"></div>
  <div id="timeline-view" class="hidden"></div>
  <div id="summary-view" class="hidden"></div>
  <div id="org-view" class="hidden"></div>
</div>

<script>
const TODAY = new Date().toISOString().slice(0,10);

function taskStatus(t){
  if(t.st) return t.st;
  if(t.d < TODAY) return "done";
  if(t.d === TODAY) return "in-progress";
  return "pending";
}

const tasks = [
  // Jan 2 (email)
  {n:"Neodent introduction meeting",s:"Equipment / Procurement",d:"2026-01-02",em:true},
  // Jan 13-15 (email)
  {n:"NSync Dental partnership (Dr. Chaudhry)",s:"Strategy / Business",d:"2026-01-13",em:true},
  {n:"Autism certification review (IBCCES)",s:"Clinical / Training",d:"2026-01-14",em:true},
  {n:"Mango Voice texting registration",s:"Software / IT",d:"2026-01-14",em:true},
  {n:"401(k) plan selection (Empower)",s:"Finance / Legal",d:"2026-01-15",em:true},
  // Jan 17
  {n:"2025 startup financials prep",s:"Finance / Legal",d:"2026-01-17",o:"Amit"},
  {n:"Steel framing construction Q&A",s:"Facility / Construction",d:"2026-01-17"},
  {n:"Mango Voice vs Weave VoIP evaluation",s:"Software / IT",d:"2026-01-17"},
  {n:"Operating agreement & legal firm",s:"Finance / Legal",d:"2026-01-17",o:"Amit"},
  // Jan 18
  {n:"Trane air handler troubleshooting",s:"Facility / Construction",d:"2026-01-18"},
  // Jan 19
  {n:"Dental camera evaluation",s:"Equipment / Procurement",d:"2026-01-19"},
  {n:"Photography lightbox selection",s:"Equipment / Procurement",d:"2026-01-19"},
  {n:"AI dental research project review",s:"Clinical / Training",d:"2026-01-19",o:"Amit"},
  // Jan 20
  {n:"Employee handbook legal review",s:"Admin / HR",d:"2026-01-20",o:"Diane"},
  {n:"Legal cost reduction strategy",s:"Finance / Legal",d:"2026-01-20",o:"Amit"},
  {n:"Website Terms/Privacy + SMS compliance",s:"Marketing / Branding",d:"2026-01-20"},
  {n:"iMill milling blank selection guide",s:"Lab / Technology",d:"2026-01-20",o:"Cy"},
  {n:"Form 2553 / S-Corp clarification",s:"Finance / Legal",d:"2026-01-20",o:"Amit"},
  // Jan 21
  {n:"Offer letter ‚Äî Ana Carillo (DA)",s:"Admin / HR",d:"2026-01-21",o:"Diane"},
  {n:"Offer letter ‚Äî Dr. Maria (Associate)",s:"Admin / HR",d:"2026-01-21",o:"Diane",ms:true},
  {n:"Teddy Bear Clinic RSVP",s:"Community Outreach",d:"2026-01-21",o:"Brandy"},
  // Jan 22
  {n:"Patient referral source tracking",s:"Admin / HR",d:"2026-01-22"},
  {n:"Archy Intelligence feature access",s:"Software / IT",d:"2026-01-22"},
  // Jan 23
  {n:"DOT Foods employer strategy",s:"Strategy / Business",d:"2026-01-23",o:"Amit"},
  {n:"Leadership & strategy frameworks",s:"Strategy / Business",d:"2026-01-23",o:"Amit"},
  {n:"Power BI training (Valantis)",s:"Strategy / Business",d:"2026-01-23",o:"Valantis"},
  {n:"Profitability strategy fact sheet",s:"Strategy / Business",d:"2026-01-23",o:"Amit"},
  {n:"Medicaid scope structuring",s:"Finance / Legal",d:"2026-01-23"},
  {n:"Medicaid inquiry reply",s:"Admin / HR",d:"2026-01-23"},
  // Jan 24
  {n:"Lab furniture layout approval",s:"Facility / Construction",d:"2026-01-24",o:"Cy"},
  {n:"Theater & billboard outreach",s:"Marketing / Branding",d:"2026-01-24",o:"Brandy"},
  {n:"ScanSnap cloud scanning setup",s:"Software / IT",d:"2026-01-24"},
  {n:"Valantis payment receipt",s:"Finance / Legal",d:"2026-01-24",o:"Valantis"},
  {n:"Articulator system selection",s:"Lab / Technology",d:"2026-01-24",o:"Cy"},
  {n:"OsseoPress vs Densah burs",s:"Clinical / Training",d:"2026-01-24",o:"Amit"},
  {n:"Multi-color 3D printer (peds toys)",s:"Equipment / Procurement",d:"2026-01-24"},
  // Jan 25
  {n:"Business credit card selection",s:"Finance / Legal",d:"2026-01-25",o:"Amit"},
  {n:"Newspaper column topic research",s:"Marketing / Branding",d:"2026-01-25",o:"Amit"},
  // Jan 26
  {n:"Ivoclar product reference guide",s:"Clinical / Training",d:"2026-01-26"},
  {n:"Ask Archy AI onboarding email",s:"Software / IT",d:"2026-01-26"},
  {n:"AI & dental conference abstracts",s:"Clinical / Training",d:"2026-01-26",o:"Amit"},
  // Jan 27
  {n:"Newspaper column series launch",s:"Marketing / Branding",d:"2026-01-27",o:"Amit"},
  {n:"Zirconia block guide (Cy)",s:"Lab / Technology",d:"2026-01-27",o:"Cy"},
  {n:"Patient call tracking docs",s:"Admin / HR",d:"2026-01-27"},
  {n:"Skylar study guide",s:"Clinical / Training",d:"2026-01-27"},
  {n:"Patterson instruments list",s:"Equipment / Procurement",d:"2026-01-27"},
  {n:"Milling vs printing dentures",s:"Lab / Technology",d:"2026-01-27",o:"Cy"},
  {n:"Exocad denture splitting",s:"Lab / Technology",d:"2026-01-27",o:"Cy"},
  // Jan 28
  {n:"Dell Precision workstation (Cy)",s:"Equipment / Procurement",d:"2026-01-28",o:"Cy"},
  {n:"Duplex investment ROI analysis",s:"Finance / Legal",d:"2026-01-28",o:"Amit"},
  {n:"Student loan repayment strategy",s:"Finance / Legal",d:"2026-01-28",o:"Amit"},
  {n:"AADSM Sleep Medicine exam prep",s:"Clinical / Training",d:"2026-01-28",o:"Amit"},
  // Jan 29
  {n:"Fee schedule ‚Äî UCR P80 comparison",s:"Finance / Legal",d:"2026-01-29"},
  {n:"Fee schedule ‚Äî printable PDF",s:"Finance / Legal",d:"2026-01-29"},
  {n:"Fee schedule ‚Äî code updates",s:"Finance / Legal",d:"2026-01-29"},
  {n:"OSHA/infection control study guides",s:"Clinical / Training",d:"2026-01-29",o:"Diane"},
  {n:"iMill bonding & materials Q&A",s:"Lab / Technology",d:"2026-01-29",o:"Cy"},
  {n:"Goodstack nonprofit verification",s:"Admin / HR",d:"2026-01-29",em:true},
  // Jan 30
  {n:"Neodent implant inventory guide",s:"Equipment / Procurement",d:"2026-01-30"},
  {n:"AlignerBase preferences guide",s:"Clinical / Training",d:"2026-01-30"},
  // Jan 31
  {n:"Neodent implant order",s:"Equipment / Procurement",d:"2026-01-31"},
  {n:"Neodent MUA vs third-party",s:"Lab / Technology",d:"2026-01-31",o:"Cy"},
  {n:"Same-day zirconia workflow",s:"Lab / Technology",d:"2026-01-31",o:"Cy"},
  {n:"Verification jig research",s:"Lab / Technology",d:"2026-01-31",o:"Cy"},
  // Feb 1
  {n:"Full-arch implant workflow",s:"Clinical / Training",d:"2026-02-01",o:"Amit"},
  {n:"Zimbis cabinet pricing",s:"Equipment / Procurement",d:"2026-02-01"},
  {n:"Monitor & ambient lighting plan",s:"Equipment / Procurement",d:"2026-02-01"},
  {n:"Resume update",s:"Admin / HR",d:"2026-02-01"},
  {n:"Dr. Nossair mentorship restructuring",s:"Clinical / Training",d:"2026-02-01",o:"Amit"},
  {n:"Digital denture wax-free workflow",s:"Lab / Technology",d:"2026-02-01",o:"Cy"},
  {n:"Vanity phone number analysis",s:"Marketing / Branding",d:"2026-02-01",o:"Brandy"},
  // Feb 2
  {n:"Operations Hub overview",s:"Software / IT",d:"2026-02-02"},
  {n:"Ops Hub logo redesign",s:"Software / IT",d:"2026-02-02"},
  {n:"Employee social media policy",s:"Admin / HR",d:"2026-02-02",o:"Diane"},
  {n:"Monthly operating budget ($147K)",s:"Finance / Legal",d:"2026-02-02",o:"Amit"},
  {n:"SprintRay denture cost breakdown",s:"Lab / Technology",d:"2026-02-02",o:"Cy"},
  {n:"Router/firewall HIPAA compliance",s:"Software / IT",d:"2026-02-02"},
  {n:"Zimbis Teams meeting (Louis Visser)",s:"Equipment / Procurement",d:"2026-02-02",em:true},
  // Feb 3
  {n:"Bleeding gums newspaper article",s:"Marketing / Branding",d:"2026-02-03",o:"Amit"},
  {n:"Google Ads copy & description",s:"Marketing / Branding",d:"2026-02-03",o:"Brandy"},
  {n:"Pediatric dentistry study guides",s:"Clinical / Training",d:"2026-02-03"},
  {n:"Rushville community research",s:"Marketing / Branding",d:"2026-02-03"},
  {n:"Zimbis pricing for Reggie",s:"Equipment / Procurement",d:"2026-02-03"},
  {n:"DA training study guides (x4)",s:"Clinical / Training",d:"2026-02-03"},
  // Feb 4
  {n:"CEREC design guide",s:"Clinical / Training",d:"2026-02-04"},
  {n:"Ops Hub ‚Äî CEREC integration",s:"Software / IT",d:"2026-02-04"},
  {n:"Ops Hub ‚Äî brand retheme",s:"Software / IT",d:"2026-02-04"},
  {n:"Ops Hub ‚Äî aesthetic upgrades",s:"Software / IT",d:"2026-02-04"},
  {n:"CEREC PDF printable",s:"Clinical / Training",d:"2026-02-04"},
  {n:"SprintRay training manual",s:"Clinical / Training",d:"2026-02-04",o:"Cy"},
  {n:"Membership discount tiering",s:"Strategy / Business",d:"2026-02-04",o:"Amit"},
  {n:"IDES/employer compliance guide",s:"Finance / Legal",d:"2026-02-04"},
  {n:"Lenovo M90q configuration",s:"Equipment / Procurement",d:"2026-02-04"},
  {n:"Lab holding tools (Cy)",s:"Equipment / Procurement",d:"2026-02-04",o:"Cy"},
  // Feb 5
  {n:"CDT 2026 coding guide",s:"Clinical / Training",d:"2026-02-05"},
  {n:"Intraoral scanner deployment",s:"Equipment / Procurement",d:"2026-02-05"},
  {n:"PTO policy update",s:"Admin / HR",d:"2026-02-05",o:"Diane"},
  {n:"Skylar weekly schedule",s:"Admin / HR",d:"2026-02-05"},
  {n:"Goetze Dental status check",s:"Facility / Construction",d:"2026-02-05",em:true},
  // Feb 6
  {n:"Samsung Odyssey monitor selection",s:"Equipment / Procurement",d:"2026-02-06"},
  {n:"Chamber of Commerce presentation",s:"Community Outreach",d:"2026-02-06",o:"Amit"},
  {n:"Nitrous / pediatric sedation protocols",s:"Clinical / Training",d:"2026-02-06",o:"Amit"},
  // Feb 7
  {n:"Medicaid / autism care response",s:"Admin / HR",d:"2026-02-07"},
  {n:"Credential representation (BDS/DDS)",s:"Admin / HR",d:"2026-02-07",o:"Amit"},
  {n:"Aspen vs Heartland comparison",s:"Strategy / Business",d:"2026-02-07"},
  {n:"CIMEA credential eval (Italy)",s:"Clinical / Training",d:"2026-02-07"},
  // Feb 8
  {n:"Medical-grade keyboards & mice",s:"Equipment / Procurement",d:"2026-02-08"},
  // Feb 9
  {n:"Ops Hub ‚Äî 8 new procedures (v1.2)",s:"Software / IT",d:"2026-02-09"},
  {n:"Ops Hub ‚Äî Procedure Wizard",s:"Software / IT",d:"2026-02-09"},
  {n:"Ops Hub ‚Äî GitHub tools",s:"Software / IT",d:"2026-02-09"},
  {n:"Agentic AI for Archy",s:"Software / IT",d:"2026-02-09"},
  {n:"Insurance verification setup",s:"Finance / Legal",d:"2026-02-09"},
  {n:"National Toothache Day script",s:"Marketing / Branding",d:"2026-02-09",o:"Brandy"},
  {n:"Diabetes blog post editing",s:"Marketing / Branding",d:"2026-02-09"},
  {n:"Caries/matrix study guides",s:"Clinical / Training",d:"2026-02-09"},
  {n:"French door refrigerator analysis",s:"Equipment / Procurement",d:"2026-02-09"},
  {n:"Teddy Bear Clinic planning meeting",s:"Community Outreach",d:"2026-02-09",em:true,o:"Brandy"},
  // Feb 10
  {n:"Membership plan (Clerri/BoomCloud)",s:"Strategy / Business",d:"2026-02-10",o:"Amit"},
  {n:"Employer outreach pamphlet",s:"Strategy / Business",d:"2026-02-10"},
  {n:"Temporary SDF facility setup",s:"Clinical / Training",d:"2026-02-10"},
  {n:"CE courses for Dr. Maria",s:"Clinical / Training",d:"2026-02-10"},
  {n:"Teddy bear mascot research",s:"Marketing / Branding",d:"2026-02-10",o:"Brandy"},
  {n:"Sticker printing setup",s:"Marketing / Branding",d:"2026-02-10",o:"Brandy"},
  {n:"Free branded bags guide",s:"Marketing / Branding",d:"2026-02-10"},
  {n:"Teddy bear booth planning",s:"Community Outreach",d:"2026-02-10",o:"Brandy"},
  {n:"Outlook/M365 troubleshooting",s:"Software / IT",d:"2026-02-10"},
  {n:"Air purifier selection",s:"Equipment / Procurement",d:"2026-02-10"},
  // Feb 11
  {n:"Occlusal guard analysis (Cy)",s:"Lab / Technology",d:"2026-02-11",o:"Cy"},
  {n:"Custom branded hoodies",s:"Marketing / Branding",d:"2026-02-11",o:"Brandy"},
  {n:"Clinic vs Office branding fix",s:"Marketing / Branding",d:"2026-02-11"},
  {n:"Custom poly carry bags",s:"Community Outreach",d:"2026-02-11"},
  {n:"Operatory PC & SharePoint",s:"Software / IT",d:"2026-02-11"},
  // Feb 12
  {n:"Multi-device charging station",s:"Equipment / Procurement",d:"2026-02-12"},
  {n:"CIMEA credential eval (Iowa MS)",s:"Clinical / Training",d:"2026-02-12"},
  {n:"Oral sedation protocols",s:"Clinical / Training",d:"2026-02-12",o:"Amit"},
  {n:"Google Drive to SharePoint migration",s:"Software / IT",d:"2026-02-12"},
  // Feb 13
  {n:"Dental AI platform evaluation",s:"Software / IT",d:"2026-02-13"},
  {n:"Intraoral scanner deep comparison",s:"Lab / Technology",d:"2026-02-13",o:"Cy"},
  {n:"Aligner treatment courses",s:"Clinical / Training",d:"2026-02-13",o:"Amit"},
  {n:"Employee directory",s:"Admin / HR",d:"2026-02-13",o:"Diane"},
  {n:"LuxCreo UV curing workflows",s:"Lab / Technology",d:"2026-02-13",o:"Cy"},
  {n:"CDT certification (Cy)",s:"Lab / Technology",d:"2026-02-13",o:"Cy"},
  {n:"Pharmacy compounding formulary",s:"Clinical / Training",d:"2026-02-13",o:"Amit"},
  {n:"Archy medical history setup",s:"Software / IT",d:"2026-02-13"},
  {n:"Employment verification letter",s:"Admin / HR",d:"2026-02-13",o:"Diane"},
  {n:"Microsoft update deployment",s:"Software / IT",d:"2026-02-13"},
  // Feb 14
  {n:"Team preferences form",s:"Admin / HR",d:"2026-02-14",o:"Diane"},
  // Feb 23 ‚Äî milestone (Valantis start)
  {n:"Valantis start date",s:"Strategy / Business",d:"2026-02-23",ms:true,o:"Valantis"},
  // Mar 1 ‚Äî milestone
  {n:"Ana Carillo (DA) start date",s:"Admin / HR",d:"2026-03-01",ms:true,o:"Ana"},
  // CORRECTED DATES PER MEMORY:
  // June 30 ‚Äî milestone
  {n:"Construction completion target",s:"Facility / Construction",d:"2026-06-30",ms:true},
  // July 1 ‚Äî milestone (CORRECTED from May 1)
  {n:"Practice opening target",s:"Strategy / Business",d:"2026-07-01",ms:true,o:"Amit"},
  // July 1 ‚Äî milestone (CORRECTED from May 15)
  {n:"Dr. Maria (Associate) start date",s:"Admin / HR",d:"2026-07-01",ms:true},
];

const actions = [
  // ‚ïê‚ïê‚ïê REGULATORY & COMPLIANCE (URGENT - Critical Path) ‚ïê‚ïê‚ïê
  {t:"Register X-ray equipment with IEMA",detail:"Illinois Emergency Management Agency requires registration of all dental X-ray equipment before use",tags:["Regulatory"],p:"urgent",o:"Amit"},
  {t:"Obtain DEA registration for controlled substances",detail:"Required before prescribing any controlled substances including local anesthetics and pain medications",tags:["Regulatory"],p:"urgent",o:"Amit"},
  {t:"Register with IL Dept of Financial and Professional Regulation",detail:"State dental board registration and practice location notification required",tags:["Regulatory"],p:"urgent",o:"Amit"},
  {t:"Submit CAQH profile and credentialing applications",detail:"Required for insurance participation and claims processing",tags:["Finance / Legal"],p:"urgent",o:"Amit"},
  {t:"Obtain NPI numbers (Type 1 and Type 2)",detail:"Required for all insurance claims and provider identification",tags:["Finance / Legal"],p:"urgent",o:"Amit"},
  {t:"Complete HIPAA Security Risk Assessment",detail:"Required baseline assessment of PHI vulnerabilities before handling patient data",tags:["Regulatory"],p:"urgent",o:"Matt Martin"},
  {t:"Complete OSHA Bloodborne Pathogens Program",detail:"Mandatory written exposure control plan, training, and hepatitis B vaccination program",tags:["Clinical / Training"],p:"urgent",o:"Diane"},
  {t:"Complete OSHA hazard communication program",detail:"Safety data sheets, chemical inventory, and staff training for dental materials",tags:["Clinical / Training"],p:"urgent",o:"Diane"},
  {t:"Archy PMS Staff Training & Workflow Optimization",detail:"Critical for practice efficiency and proper patient data management from day one",tags:["Software / IT"],p:"urgent",o:"Brandy"},
  {t:"CBCT-Planmeca Integration with Archy",detail:"Seamless image capture to patient records reduces diagnostic delays",tags:["Software / IT"],p:"urgent",o:"Amit"},
  {t:"HIPAA-Compliant Firewall Configuration",detail:"Essential for patient data protection and regulatory compliance",tags:["Software / IT"],p:"urgent",o:"Matt Martin"},
  {t:"Microsoft 365 Security Baseline Configuration",detail:"Multi-factor authentication and conditional access protect against 99.9% of attacks",tags:["Software / IT"],p:"urgent",o:"Matt Martin"},
  {t:"Unified WiFi Network with Guest Isolation",detail:"Separate networks for clinical devices vs patient access prevents security breaches",tags:["Software / IT"],p:"urgent",o:"Matt Martin"},
  {t:"Microsoft 365 Backup & Disaster Recovery",detail:"Cloud-native backup protects against ransomware and accidental deletion",tags:["Software / IT"],p:"urgent",o:"Matt Martin"},
  {t:"Encrypted Email Solution Deployment",detail:"HIPAA-compliant patient communication protects PHI in transit",tags:["Software / IT"],p:"urgent",o:"Matt Martin"},
  {t:"Staff Security Awareness Training",detail:"Human firewall prevents 95% of successful cyber attacks",tags:["Admin / HR"],p:"urgent",o:"Matt Martin"},
  {t:"Configure UCR P80 fee schedule in Archy",detail:"Maximizes reimbursements while remaining competitive in rural market",tags:["Finance / Legal"],p:"urgent",o:"Brandy"},
  {t:"Negotiate DOT Foods employer contract",detail:"Anchor client for membership plan ‚Äî $600K-$1.2M ARR potential",tags:["Strategy / Business"],p:"urgent",o:"Amit"},
  {t:"Set up claims processing workflow in Archy",detail:"Essential for cash flow ‚Äî insurance reimbursements drive revenue",tags:["Finance / Legal"],p:"urgent",o:"Brandy"},
  {t:"Implement PCI-compliant payment processing",detail:"Protects patient payment data and ensures regulatory compliance",tags:["Finance / Legal"],p:"urgent",o:"Brandy"},
  {t:"Establish cash handling and deposit procedures",detail:"Ensures secure cash management and prevents discrepancies",tags:["Finance / Legal"],p:"urgent",o:"Brandy"},
  {t:"Configure membership plan billing (BoomCloud/Clerri)",detail:"Automates recurring revenue collection for membership patients",tags:["Strategy / Business"],p:"urgent",o:"Brandy"},
  {t:"Achieve break-even production within 90 days",detail:"Critical milestone ‚Äî ensures practice viability and cash flow sustainability",tags:["Strategy / Business"],p:"urgent",o:"Amit"},
  {t:"50+ active patients by day 90",detail:"Patient base foundation for sustainable growth",tags:["Strategy / Business"],p:"urgent",o:"Brandy"},
  {t:"Complete Google Business Profile setup",detail:"80% of local searches start with Google ‚Äî this is your #1 digital asset",tags:["Marketing / Branding"],p:"urgent",o:"Brandy"},
  {t:"Local SEO keyword optimization",detail:"Capture 'dentist near me' searches for Rushville + surrounding towns",tags:["Marketing / Branding"],p:"urgent",o:"Brandy"},
  {t:"Family referral incentive program",detail:"Word-of-mouth drives 85% of rural dental referrals",tags:["Marketing / Branding"],p:"urgent",o:"Brandy"},
  {t:"Automated Google review request system",detail:"Positive reviews drive 67% of local healthcare search decisions",tags:["Marketing / Branding"],p:"urgent",o:"Brandy"},
  {t:"New patient welcome packet",detail:"First impression sets tone for patient relationships",tags:["Marketing / Branding"],p:"urgent",o:"Brandy"},
  {t:"Press release template and local media list",detail:"Local newspapers and radio eagerly cover new healthcare providers",tags:["Marketing / Branding"],p:"urgent",o:"Brandy"},
  {t:"Insurance and payment options website page",detail:"Transparent pricing builds trust ‚Äî especially important in rural areas",tags:["Marketing / Branding"],p:"urgent",o:"Brandy"},
  {t:"Exterior practice signage design and installation",detail:"Professional signage establishes credibility and wayfinding",tags:["Marketing / Branding"],p:"urgent",o:"Brandy"},
  {t:"Parking and accessibility signage",detail:"Rural demographics include many elderly patients",tags:["Facility / Construction"],p:"urgent",o:"Brandy"},
  {t:"Create comprehensive new hire onboarding checklist",detail:"Standardized process ensures no compliance steps are missed",tags:["Admin / HR"],p:"urgent",o:"Diane"},
  {t:"Develop 8-week pre-opening training schedule",detail:"Structured curriculum builds team competence before first patient",tags:["Clinical / Training"],p:"urgent",o:"Diane"},
  {t:"Illinois sexual harassment prevention training",detail:"Required by law ‚Äî mandatory for employers with 15+ employees",tags:["Admin / HR"],p:"urgent",o:"Diane"},
  {t:"Medical emergency response protocol and drills",detail:"Team must know roles in cardiac arrest, allergic reaction, syncope",tags:["Clinical / Training"],p:"urgent",o:"Amit"},
  {t:"Clinical competency assessments for all staff",detail:"Verifies skills before patient contact ‚Äî reduces liability",tags:["Clinical / Training"],p:"urgent",o:"Amit"},
  
  // ‚ïê‚ïê‚ïê REGULATORY ‚Äî SOON ‚ïê‚ïê‚ïê
  {t:"Establish radiation safety program",detail:"Illinois IEMA requires radiation safety officer designation and protocols",tags:["Regulatory"],p:"soon",o:"Amit"},
  {t:"DentaQuest enrollment",detail:"After IMPACT confirmed, 2-4 weeks processing time",tags:["Finance / Legal"],p:"soon",o:"Amit"},
  {t:"MCO Credentialing (Molina, Meridian, BCBS Community)",detail:"4-8 weeks processing, can run parallel with other enrollments",tags:["Finance / Legal"],p:"soon",o:"Amit"},
  {t:"Implement sharps injury prevention program",detail:"OSHA requires engineered sharps safety devices and injury log maintenance",tags:["Clinical / Training"],p:"soon",o:"Diane"},
  {t:"Patient consent and treatment documentation protocols",detail:"Legal protection requires standardized informed consent and treatment records",tags:["Clinical / Training"],p:"soon",o:"Amit"},
  {t:"Create HIPAA business associate agreements",detail:"Required contracts with all vendors handling PHI including IT, billing, and lab services",tags:["Admin / HR"],p:"soon",o:"Diane"},
  {t:"Install personal protective equipment stations",detail:"OSHA requires readily accessible PPE for bloodborne pathogen exposure protection",tags:["Equipment / Procurement"],p:"soon",o:"Brandy"},
  {t:"Set up controlled substance inventory system",detail:"DEA requires precise tracking and secure storage of all controlled substances",tags:["Clinical / Training"],p:"soon",o:"Amit"},
  {t:"Create staff training documentation system",detail:"OSHA and state requirements mandate documented annual training on multiple topics",tags:["Admin / HR"],p:"soon",o:"Diane"},
  {t:"Implement dental unit waterline testing program",detail:"CDC recommends regular testing of dental unit waterlines to prevent biofilm contamination",tags:["Clinical / Training"],p:"soon",o:"Brandy"},
  {t:"HIPAA privacy and security training for all staff",detail:"HIPAA requires all staff training on privacy rules and security awareness before patient contact",tags:["Clinical / Training"],p:"soon",o:"Diane"},
  {t:"Clinical quality assurance protocols",detail:"Standard of care requires regular review of treatment outcomes and adverse events",tags:["Clinical / Training"],p:"soon",o:"Amit"},
  {t:"Install and test autoclave sterilization system",detail:"CDC requires validated steam sterilization with biological monitoring weekly",tags:["Equipment / Procurement"],p:"soon",o:"Brandy"},
  {t:"Create infection control written procedures",detail:"CDC guidelines require documented protocols for instrument processing and environmental cleaning",tags:["Clinical / Training"],p:"soon",o:"Amit"},
  {t:"Set up HIPAA-compliant patient record system",detail:"Archy PMS handles this - ensure access controls and audit logging configured",tags:["Software / IT"],p:"soon",o:"Brandy"},
  {t:"Establish medical emergency response kit",detail:"Illinois requires emergency medications and equipment for medical emergencies",tags:["Clinical / Training"],p:"soon",o:"Amit"},
  {t:"Set up collections protocol and aged AR management",detail:"Prevents cash flow disruptions and maintains healthy collection ratios",tags:["Finance / Legal"],p:"soon",o:"Brandy"},
  {t:"Configure monthly financial close procedures",detail:"Ensures timely and accurate financial reporting",tags:["Finance / Legal"],p:"soon",o:"Brandy"},
  {t:"Set up payment plans and patient financing",detail:"Increases case acceptance for expensive treatments",tags:["Finance / Legal"],p:"soon",o:"Brandy"},
  {t:"Configure production tracking dashboard",detail:"Monitors daily/monthly production goals and performance metrics",tags:["Strategy / Business"],p:"soon",o:"Brandy"},
  {t:"Set up denial management and appeals workflow",detail:"Maximizes insurance reimbursements and reduces lost revenue",tags:["Finance / Legal"],p:"soon",o:"Brandy"},
  {t:"Implement expense approval and documentation system",detail:"Controls costs and maintains proper record-keeping for taxes",tags:["Finance / Legal"],p:"soon",o:"Brandy"},
  {t:"Establish quarterly tax payment schedule",detail:"Prevents penalties and manages cash flow for tax obligations",tags:["Finance / Legal"],p:"soon",o:"Amit"},
  {t:"Create employer onboarding and enrollment process",detail:"Streamlines new employer client acquisition for DOT Foods model",tags:["Strategy / Business"],p:"soon",o:"Brandy"},
  {t:"Membership plan marketing materials",detail:"Drives enrollment and communicates value proposition",tags:["Marketing / Branding"],p:"soon",o:"Brandy"},
  {t:"Establish petty cash fund",detail:"Provides operational flexibility with controls",tags:["Finance / Legal"],p:"soon",o:"Brandy"},
  {t:"New patient acquisition tracking",detail:"Measures marketing effectiveness and growth sustainability",tags:["Marketing / Branding"],p:"soon",o:"Brandy"},
  {t:"Facebook community group engagement strategy",detail:"Rural communities rely heavily on Facebook groups for recommendations",tags:["Marketing / Branding"],p:"soon",o:"Brandy"},
  {t:"Service area pages for surrounding towns (SEO)",detail:"Rural practices serve wide geographic areas ‚Äî separate pages improve rankings",tags:["Marketing / Branding"],p:"soon",o:"Brandy"},
  {t:"Professional network referral system",detail:"Medical doctors and specialists are top referral sources in rural areas",tags:["Marketing / Branding"],p:"soon",o:"Amit"},
  {t:"6-month recall automation system",detail:"Proactive scheduling prevents patient loss",tags:["Marketing / Branding"],p:"soon",o:"Brandy"},
  {t:"Online scheduling integration",detail:"24/7 booking accommodates rural patients with long work shifts",tags:["Software / IT"],p:"soon",o:"Brandy"},
  {t:"Local radio interview scheduling",detail:"Rural communities still rely on local radio for news",tags:["Community Outreach"],p:"soon",o:"Amit"},
  {t:"Review response protocol",detail:"Responding to all reviews shows community engagement",tags:["Marketing / Branding"],p:"soon",o:"Brandy"},
  {t:"Interior wayfinding and room labels",detail:"Clear navigation reduces patient anxiety",tags:["Facility / Construction"],p:"soon",o:"Brandy"},
  {t:"Cross-training matrix (front desk ‚Üî clinical basics)",detail:"Rural staffing challenges make cross-training essential for coverage",tags:["Clinical / Training"],p:"soon",o:"Diane"},
  {t:"Morning huddle protocol and templates",detail:"10-minute daily meetings improve production and team communication",tags:["Admin / HR"],p:"soon",o:"Brandy"},
  {t:"Performance review framework (30/60/90 day)",detail:"Early feedback catches issues before they become problems",tags:["Admin / HR"],p:"soon",o:"Diane"},
  {t:"Mentorship program (experienced ‚Üî new staff)",detail:"Brandy, Cy, Diane mentor new hires ‚Äî accelerates learning",tags:["Admin / HR"],p:"soon",o:"Diane"},
  {t:"Illinois lactation accommodation policy",detail:"Required by Illinois law ‚Äî must have private space and break time",tags:["Admin / HR"],p:"soon",o:"Diane"},
  {t:"Emergency communication tree",detail:"Ensures rapid notification for closures, emergencies, schedule changes",tags:["Admin / HR"],p:"soon",o:"Brandy"},
  {t:"Time and attendance management in Gusto",detail:"Accurate timekeeping prevents payroll disputes and compliance issues",tags:["Admin / HR"],p:"soon",o:"Diane"},
  {t:"Compensation benchmarking study (IL/Midwest)",detail:"Ensures competitive pay to attract and retain staff in rural area",tags:["Admin / HR"],p:"soon",o:"Amit"},
  {t:"Conflict resolution and HR escalation procedures",detail:"Clear process prevents workplace issues from escalating",tags:["Admin / HR"],p:"soon",o:"Diane"},
  {t:"Intraoral Scanner Workflow Setup",detail:"Standardized protocols for digital impressions and prosthetic workflows",tags:["Software / IT"],p:"soon",o:"Amit"},
  {t:"CEREC-LuxCreo Digital Lab Workflow",detail:"Optimizes same-day dentistry capability and reduces lab turnaround times",tags:["Lab / Technology"],p:"soon",o:"Cy"},
  {t:"Mango Voice Auto-Attendant & Call Routing",detail:"Professional call handling reduces front desk burden and improves patient experience",tags:["Software / IT"],p:"soon",o:"Brandy"},
  {t:"n8n Patient Communication Automation",detail:"Automated appointment reminders and follow-ups reduce no-shows by 30%+",tags:["Software / IT"],p:"soon",o:"Brandy"},
  {t:"Operatory Workstation Standardization",detail:"Consistent setup reduces training time and improves clinical efficiency",tags:["Software / IT"],p:"soon",o:"Amit"},
  {t:"Digital Intake Forms via n8n Integration",detail:"Paperless workflow reduces administrative overhead and improves patient experience",tags:["Software / IT"],p:"soon",o:"Brandy"},
  {t:"Managed IT Service Level Agreements",detail:"Proactive support prevents downtime and ensures regulatory compliance",tags:["Software / IT"],p:"soon",o:"Matt Martin"},
  {t:"Intune Device Deployment Automation",detail:"Streamlined software deployment ensures consistency across all workstations",tags:["Software / IT"],p:"soon",o:"Matt Martin"},
  {t:"Digital Sensor Calibration Protocols",detail:"Consistent image quality ensures diagnostic accuracy and reduces retakes",tags:["Software / IT"],p:"soon",o:"Amit"},
  {t:"Patient Portal Integration with Archy",detail:"Self-service access reduces front desk calls and improves patient satisfaction",tags:["Software / IT"],p:"soon",o:"Brandy"},
  {t:"Digital X-Ray Quality Assurance Program",detail:"Regular QA ensures diagnostic accuracy and regulatory compliance",tags:["Clinical / Training"],p:"soon",o:"Amit"},

  // ‚ïê‚ïê‚ïê UPCOMING ‚ïê‚ïê‚ïê
  {t:"Emergency power backup for critical systems",detail:"Ensures patient safety during power outages and protects electronic records",tags:["Equipment / Procurement"],p:"upcoming",o:"Brandy"},
  {t:"Continuing education tracking system",detail:"Illinois requires documented CE hours for license renewal",tags:["Admin / HR"],p:"upcoming",o:"Diane"},
  {t:"Incident reporting and investigation procedures",detail:"Risk management requires systematic documentation and analysis of safety incidents",tags:["Admin / HR"],p:"upcoming",o:"Diane"},
  {t:"Equipment calibration and maintenance schedules",detail:"FDA and manufacturer requirements for dental equipment accuracy and safety",tags:["Equipment / Procurement"],p:"upcoming",o:"Cy"},
  {t:"Patient complaint resolution process",detail:"Quality assurance and risk management require formal patient feedback handling",tags:["Admin / HR"],p:"upcoming",o:"Brandy"},
  {t:"Set up equipment depreciation tracking",detail:"Maximizes tax deductions ‚Äî Section 179 for major purchases",tags:["Finance / Legal"],p:"upcoming",o:"Amit"},
  {t:"Configure case acceptance metrics",detail:"Identifies conversion opportunities and treatment planning effectiveness",tags:["Strategy / Business"],p:"upcoming",o:"Brandy"},
  {t:"Set up overhead and profitability reporting",detail:"Monitors practice efficiency ‚Äî target 60% overhead ratio",tags:["Finance / Legal"],p:"upcoming",o:"Brandy"},
  {t:"Employer reporting and analytics for DOT Foods",detail:"Provides value demonstration and contract renewal justification",tags:["Strategy / Business"],p:"upcoming",o:"Valantis"},
  {t:"Membership plan renewal and retention process",detail:"Maintains recurring revenue and patient loyalty",tags:["Strategy / Business"],p:"upcoming",o:"Brandy"},
  {t:"Inventory management and ordering protocols",detail:"Controls supply costs and prevents stockouts",tags:["Equipment / Procurement"],p:"upcoming",o:"Brandy"},
  {t:"Configure purchase order workflow",detail:"Controls spending with proper authorization",tags:["Finance / Legal"],p:"upcoming",o:"Brandy"},
  {t:"Ribbon cutting ceremony planning",detail:"Formal community celebration generates media coverage",tags:["Community Outreach"],p:"upcoming",o:"Brandy"},
  {t:"Open house community event",detail:"Reduces anxiety by letting families tour facility",tags:["Community Outreach"],p:"upcoming",o:"Brandy"},
  {t:"School dental education programs",detail:"Establishes practice as community partner",tags:["Community Outreach"],p:"upcoming",o:"Amit"},
  {t:"Team building activities for pre-opening",detail:"Builds cohesion before high-stress opening period",tags:["Admin / HR"],p:"upcoming",o:"Brandy"},
  {t:"Professional standards and dress code manual",detail:"Sets expectations for appearance and conduct",tags:["Admin / HR"],p:"upcoming",o:"Diane"},
  {t:"Employee retention strategy",detail:"Rural areas face higher turnover ‚Äî proactive retention saves recruitment costs",tags:["Admin / HR"],p:"upcoming",o:"Brandy"},
  {t:"Staff recognition program",detail:"Regular recognition improves morale and reduces turnover",tags:["Admin / HR"],p:"upcoming",o:"Brandy"},
  {t:"Continuing education tracking and approval process",detail:"Illinois CE requirements tracked systematically",tags:["Admin / HR"],p:"upcoming",o:"Diane"},
  {t:"Clinical AI Integration (CBCT Analysis)",detail:"AI-assisted diagnosis improves accuracy and supports treatment planning",tags:["Software / IT"],p:"upcoming",o:"Amit"},
  {t:"Teledentistry Platform Setup",detail:"Remote consultation capability expands patient access and follow-up care",tags:["Software / IT"],p:"upcoming",o:"Amit"},
  {t:"Network Redundancy & Failover Planning",detail:"Backup internet prevents clinical disruption during outages",tags:["Software / IT"],p:"upcoming",o:"Matt Martin"},
  {t:"Practice Analytics Dashboard Setup",detail:"Real-time metrics enable data-driven practice management decisions",tags:["Software / IT"],p:"upcoming",o:"Brandy"},

  // ‚ïê‚ïê‚ïê CORRECTED COMPLETED ITEMS FROM MEMORY ‚ïê‚ïê‚ïê
  {t:"Bind workers' compensation insurance",detail:"Completed. Brandy confirmed Feb 18, 2026.",tags:["Finance / Legal"],p:"done",o:"Brandy"},
  {t:"Bind malpractice insurance",detail:"Certificate received. Needs update to full-time before opening.",tags:["Finance / Legal"],p:"done",o:"Amit"},
  {t:"Send revised employee handbook to attorney",detail:"Handbook revised Jan 20. Approved through LegalShield. Approved by Dr. Amit Feb 18. Brandy sending to attorney.",tags:["Admin / HR"],p:"done",o:"Diane"},
  {t:"Health insurance (BCBSIL) active",detail:"Blue Cross Blue Shield of Illinois plan active for employees.",tags:["Finance / Legal"],p:"done",o:"Diane"},

  // ‚ïê‚ïê‚ïê PREVIOUS EXISTING ITEMS (Updated with corrections applied) ‚ïê‚ïê‚ïê
  {t:"IMPACT Practice Enrollment (Group/FAO) ‚Äî call Tuesday to confirm",detail:"Shows complete. Still needs Tuesday confirmation call.",tags:["Finance / Legal"],p:"urgent",o:"Amit"},
  {t:"IMPACT Individual Provider Enrollment",detail:"Needs association with practice after Group confirmation.",tags:["Finance / Legal"],p:"urgent",o:"Amit"},
  {t:"Write HIPAA Privacy Policy",detail:"Official policy on how PHI is used, disclosed, and protected. Covers permitted uses, patient rights, and breach procedures. Required before seeing any patient.",tags:["Admin / HR"],p:"urgent"},
  {t:"Create Notice of Privacy Practices (NPP)",detail:"Patient-facing document explaining privacy rights and how Schuyler Dental handles their information. Must be handed to every new patient and posted in the office.",tags:["Admin / HR"],p:"urgent"},
  {t:"Document HIPAA Security Policies",detail:"Administrative, physical, and technical safeguards for ePHI. Covers Archy access controls, password policies, workstation security, encryption, and backup procedures.",tags:["Admin / HR"],p:"urgent"},
  {t:"Write HIPAA Breach Notification Policy",detail:"Step-by-step protocol if PHI is compromised: who investigates, patient notification, HHS reporting timelines (60 days), and documentation requirements.",tags:["Admin / HR"],p:"urgent"},
  {t:"Finalize OSHA Exposure Control Plan",detail:"Protect employees from bloodborne pathogens. Covers exposure determination by job title, PPE requirements, sharps disposal, hepatitis B vaccination offer, and post-exposure incident procedures.",tags:["Admin / HR"],p:"urgent",o:"Diane"},
  {t:"Create OSHA Hazard Communication Program",detail:"Chemical safety program: maintain SDS binder for all chemicals, label secondary containers, document employee training on chemical hazards.",tags:["Admin / HR"],p:"urgent",o:"Diane"},
  {t:"Write infection control protocols",detail:"SOPs for instrument sterilization, surface disinfection, operatory turnover, waterline maintenance, and hand hygiene per CDC and Illinois requirements.",tags:["Clinical / Training"],p:"urgent"},
  {t:"Purchase & install commercial firewall",detail:"SonicWall, Sophos, Fortinet, or UniFi. Must be in place before opening for HIPAA compliance. Next step: find out IT contact from Reggie.",tags:["Software / IT"],p:"urgent",o:"Amit"},
  {t:"Check-in with Jerid ‚Äî does Ana want to start before March 1?",detail:"Ana Carillo (DA) is set to join March 1. Check with Jerid to see if Ana would prefer an earlier start date.",tags:["Admin / HR"],p:"urgent",o:"Diane"},
  {t:"Valantis onboarding (Feb 23 start)",detail:"Complete I-9, W-4, system access setup, and orientation before start date.",tags:["Admin / HR"],p:"urgent",o:"Diane"},
  {t:"Obtain Certificate of Occupancy",detail:"Required from City of Rushville before opening. Coordinate with contractor after construction completion.",tags:["Facility / Construction"],p:"urgent",o:"Brandy"},
  {t:"Schedule fire inspection",detail:"Required before occupancy. Contact City of Rushville (217) 322-3833.",tags:["Facility / Construction"],p:"urgent",o:"Brandy"},

  // Additional existing items mapped to real owners...
  {t:"IDES Unemployment Insurance registration",detail:"Register as new employer, get IL unemployment tax account number, set up quarterly wage reporting.",tags:["Finance / Legal"],p:"soon",o:"Diane"},
  {t:"Develop HIPAA training curriculum",detail:"Training all employees must complete before seeing patients. Covers PHI handling, Archy access rules, breach reporting, patient rights, and annual refresher requirements.",tags:["Clinical / Training"],p:"soon",o:"Diane"},
  {t:"Develop OSHA training curriculum",detail:"Employee safety training covering bloodborne pathogens, hazard communication, PPE use, emergency procedures, and fire safety. Must be completed before clinical operations.",tags:["Clinical / Training"],p:"soon",o:"Diane"},
  {t:"Bind general liability insurance",detail:"Commercial general liability policy for the practice location.",tags:["Finance / Legal"],p:"soon",o:"Amit"},
  {t:"Bind property/equipment insurance (effective July 1)",detail:"Coverage for all practice equipment and facility contents.",tags:["Finance / Legal"],p:"soon",o:"Amit"},
  {t:"Organize certificate of insurance binder",detail:"Compile and organize all insurance certificates in one binder for reference.",tags:["Finance / Legal"],p:"soon",o:"Diane"},
  {t:"Start medical insurance credentialing (sleep medicine)",detail:"Jan-Feb/Mar timeline. Required before offering sleep medicine services.",tags:["Finance / Legal"],p:"soon",o:"Amit"},
  {t:"Ana Carillo onboarding (Mar 1 start)",detail:"Complete I-9, W-4, system access, and orientation before start date.",tags:["Admin / HR"],p:"soon",o:"Diane"},
  {t:"Run first payroll (dry run)",detail:"Internal test payroll cycle in February to verify tax withholdings, direct deposits, and pay stubs.",tags:["Finance / Legal"],p:"soon",o:"Diane"},
  {t:"Dr. Maria onboarding (July 1 start)",detail:"Start date July 1. IMPACT individual enrollment and practice association needed. Complete I-9, W-4, credentialing.",tags:["Admin / HR"],p:"upcoming",o:"Diane"},
  {t:"Staff photography and headshots",detail:"Schedule team photos for website and marketing. Deadline July 1.",tags:["Marketing / Branding"],p:"upcoming",o:"Brandy"},

  // Equipment tracking
  {t:"Planmeca G7 CBCT ‚Äî installation pending",detail:"Installation coordination needed.",tags:["Equipment / Procurement"],p:"soon"},
  {t:"A-dec dental chairs ‚Äî delivery tracking",detail:"Track delivery status and schedule installation.",tags:["Equipment / Procurement"],p:"soon"},
  {t:"iMill ‚Äî on its way",detail:"In transit to practice.",tags:["Equipment / Procurement"],p:"soon",o:"Cy"},
  {t:"2x Nomad portable X-rays",detail:"Goetze has them, on their way to us now.",tags:["Equipment / Procurement"],p:"soon"},
  {t:"Air compressor ‚Äî pending",detail:"Order/delivery needed for operatory air supply.",tags:["Equipment / Procurement"],p:"soon"},
  {t:"Vacuum system ‚Äî pending",detail:"Order/delivery needed for operatory suction.",tags:["Equipment / Procurement"],p:"soon"},
  {t:"Sterilization equipment ‚Äî pending",detail:"Order/delivery needed before opening.",tags:["Equipment / Procurement"],p:"soon"},
  {t:"Order amalgam separator",detail:"EPA required for dental offices discharging to public sewer. Must be installed before opening.",tags:["Equipment / Procurement"],p:"soon"},
  {t:"Yomi robotic surgical system ‚Äî training coordination",detail:"Coordinate training schedule with vendor.",tags:["Equipment / Procurement"],p:"upcoming",o:"Amit"},
  {t:"QuickSleeper 5 ‚Äî paid 11/03, training May 8",detail:"Paid. In-office full-day training scheduled May 8.",tags:["Equipment / Procurement"],p:"upcoming"},
  {t:"LuxCreo iLux Pro #2 ‚Äî on hold until July",detail:"Second unit on hold until July opening.",tags:["Equipment / Procurement"],p:"upcoming",o:"Cy"},

  // Facility updates
  {t:"Construction ‚Äî E/W brick walls done; on track for end of June",detail:"East and west side brick walls complete. Full construction completion targeted end of June.",tags:["Facility / Construction"],p:"soon"},
  {t:"Sign medical waste / biohazard pickup contract",detail:"Regulated medical waste pickup contract required before treating patients.",tags:["Facility / Construction"],p:"soon"},
  {t:"Amalgam separator installation",detail:"Install after separator is ordered and delivered. Must be operational before opening.",tags:["Facility / Construction"],p:"upcoming"},
  {t:"Order and post required workplace posters",detail:"Federal (DOL, EEOC, OSHA) and Illinois state workplace posters. Must be displayed before employees start.",tags:["Admin / HR"],p:"soon"},

  // Financial
  {t:"401(k) finalization with Empower/Tom Mantych",detail:"Empower selected at ~$3,250/yr. Finalize enrollment and setup steps with Tom Mantych.",tags:["Finance / Legal"],p:"upcoming",o:"Amit"},
  {t:"DMPO registration (BoomCloud membership plan)",detail:"Register if going with BoomCloud for in-house membership plan.",tags:["Strategy / Business"],p:"upcoming",o:"Amit"},

  // Training
  {t:"Complete Planmeca pre-training videos",detail:"Vimeo videos + quiz for CE credit. In-office imaging training targets May.",tags:["Clinical / Training"],p:"soon"},
  {t:"Cy CDT certification path ‚Äî call NBC (800) 684-5310",detail:"Call NBC to start Certified Dental Technician certification process.",tags:["Lab / Technology"],p:"soon",o:"Cy"},
  {t:"Cy Exocad Cohort 23 completion",detail:"Weekly Mon/Fri sessions through March 6, 2026.",tags:["Lab / Technology"],p:"soon",o:"Cy"},
  {t:"Cy digital lab SOPs development",detail:"Document standard operating procedures for the digital lab workflow.",tags:["Lab / Technology"],p:"upcoming",o:"Cy"},
  {t:"Schedule uLab Lunch & Learn",detail:"Contact Evan Grzelak to lock in date for Feb/March.",tags:["Clinical / Training"],p:"soon"},
  {t:"Mock patient workflow dry run",detail:"End-to-end test: scheduling ‚Üí check-in ‚Üí treatment ‚Üí checkout ‚Üí billing. All staff participate.",tags:["Clinical / Training"],p:"soon",o:"Brandy"},
  {t:"Program alarm codes for all staff",detail:"Individual codes for security system. Coordinate with Matt Martin (IT/Security).",tags:["Software / IT"],p:"soon",o:"Brandy"},
  {t:"Train staff on security system",detail:"Arm/disarm procedures for all team members.",tags:["Software / IT"],p:"soon",o:"Brandy"},
  {t:"Test credit card processing terminals",detail:"Run test transactions before Day 1. Verify Square/Stripe integration.",tags:["Finance / Legal"],p:"soon",o:"Brandy"},
  {t:"Confirm first week appointments",detail:"Call patients to verify all appointments for opening week.",tags:["Admin / HR"],p:"soon",o:"Skylar"},
  {t:"Deep clean entire facility before opening",detail:"All hands on deck, day before opening.",tags:["Facility / Construction"],p:"soon",o:"Brandy"},
  {t:"Utility activation coordination",detail:"Confirm Ameren (1-800-232-2477), City water (217-322-6603), CassComm internet (800-252-1799) activation aligned with construction completion.",tags:["Facility / Construction"],p:"soon",o:"Brandy"},
  {t:"Dr. Maria CE courses",detail:"May-June or fall 2026 timeline.",tags:["Clinical / Training"],p:"upcoming"},
  {t:"Register for ILAPEO Brazil course + tourist visa",detail:"'Full Arches with Immediate Loading' June 22-26, 2026. Code: 29161KUMAR. Visa process starts April 10.",tags:["Clinical / Training"],p:"upcoming",o:"Amit"},
  {t:"Register Dr. Maria for ILAPEO April course",detail:"April 27-30, 2026 in Curitiba, Brazil. Amanda Craddock (amanda.craddock@neodent.com) coordinating. Nicole Lucey (nicole.lucey@straumann.com) sent registration link.",tags:["Clinical / Training"],p:"upcoming",o:"Amit"},
  {t:"Schedule Planmeca in-office training",detail:"Target May 2026 after pre-training videos are complete.",tags:["Clinical / Training"],p:"upcoming"},
  {t:"Contract commercial cleaning service",detail:"Weekly cleaning schedule for post-opening.",tags:["Facility / Construction"],p:"upcoming",o:"Brandy"},
  {t:"Set up petty cash system",detail:"Initial float for incidental expenses.",tags:["Finance / Legal"],p:"upcoming",o:"Brandy"},
  {t:"Create daily opening/closing checklists",detail:"All areas: front desk, operatories, lab, sterilization.",tags:["Admin / HR"],p:"upcoming",o:"Brandy"},
  {t:"Set up Google Business Profile",detail:"Critical for local search visibility. Must be live before opening.",tags:["Marketing / Branding"],p:"upcoming",o:"Brandy"},

  // Marketing & launch
  {t:"Design & print Teddy Bear Clinic materials",detail:"Intake forms, diagnosis cards, branded stickers, goody bag contents. Event March 2026.",tags:["Community Outreach"],p:"soon",o:"Brandy"},
  {t:"Custom branded hoodies (20 pieces)",detail:"Confirm order status.",tags:["Marketing / Branding"],p:"soon",o:"Brandy"},
  {t:"Sticker printing setup (Epson EcoTank + Cricut)",detail:"Set up in-house sticker printing capability.",tags:["Marketing / Branding"],p:"soon",o:"Brandy"},
  {t:"n8n automation developer brief",detail:"9 workflows identified. Create developer brief for implementation.",tags:["Software / IT"],p:"upcoming"},
  {t:"Google review funnel setup",detail:"Set up automated review request flow for patients post-visit.",tags:["Marketing / Branding"],p:"upcoming",o:"Brandy"},

  // IT & systems
  {t:"Microsoft 365 / Intune device enrollment",detail:"Enroll all operatory PCs in Intune for device management.",tags:["Software / IT"],p:"soon"},
  {t:"SharePoint folder permissions",detail:"Set permissions before going live. Required before staff access shared files.",tags:["Software / IT"],p:"soon"},
  {t:"ScanSnap reconfiguration to SharePoint",detail:"Redirect scanning to SharePoint instead of local/Google Drive.",tags:["Software / IT"],p:"soon"},
  {t:"Archy new onboarding meeting",detail:"Schedule setup/onboarding meeting with Archy team for final configuration.",tags:["Software / IT"],p:"soon"},
  {t:"Mango Voice ‚Äî verify text/SMS functional",detail:"Phones arrived and working. Verify text/SMS capability is operational.",tags:["Software / IT"],p:"soon"},

  // Completed items
  {t:"W-9 Certification",detail:"Completed.",tags:["Finance / Legal"],p:"done",o:"Amit"},
  {t:"IMPACT Practice Enrollment (Group/FAO) ‚Äî shows complete",detail:"Shows complete in system. Needs Tuesday confirmation call.",tags:["Finance / Legal"],p:"done",o:"Amit"},
  {t:"Billboard production (Lamar ‚Äî Rushville & Beardstown)",detail:"Three sides secured. Payment processed, production started. Completed 1st week of Feb 2026.",tags:["Marketing / Branding"],p:"done",o:"Brandy"},
  {t:"Configure TP-Link router for Mango Voice",detail:"Disabled SIP ALG, RTSP ALG, and related settings for VoIP reliability.",tags:["Software / IT"],p:"done"},
  {t:"401(k) plan selected (Empower)",detail:"Selected. 3% safe harbor match, ~$3,200 annual fees, $4,000 tax credit potential.",tags:["Finance / Legal"],p:"done",o:"Amit"},
  {t:"Anthropic nonprofit program",detail:"Completed via Goodstack/SCMHA verification.",tags:["Software / IT"],p:"done"},
  {t:"IBCCES Autism certification",detail:"In process with Danielle Terrell since Jan 14.",tags:["Clinical / Training"],p:"done",o:"Amit"},
  {t:"NSync Dental supply partnership",detail:"Discussed with Dr. Chaudhry Jan 13. Not moving forward at this time.",tags:["Strategy / Business"],p:"done"},
  {t:"Mango Voice texting registration",detail:"Signed 01/14/2026.",tags:["Software / IT"],p:"done"},
  {t:"Teddy Bear Clinic planning meeting",detail:"Held Feb 9 at Schuyler Industry Middle School. Event targeting March.",tags:["Community Outreach"],p:"done",o:"Brandy"},
  {t:"Zimbis inventory system ($120K)",detail:"Pricing confirmed at $120K. Meeting held Feb 2 with Louis Visser.",tags:["Equipment / Procurement"],p:"done"},
  {t:"Interior finishes selected",detail:"Cabinet trim, Stericenter colors, upholstery, desk heights confirmed.",tags:["Facility / Construction"],p:"done"},
  {t:"Archy Platinum active",detail:"Practice management system live and paid.",tags:["Software / IT"],p:"done"},
  {t:"Mango Voice ‚Äî phones arrived and working",detail:"VoIP phones delivered and operational.",tags:["Software / IT"],p:"done"},
];

const meetings = [
  {t:"Overjet Demo",detail:"Meeting with Lauren and Amit.",date:"2026-02-15",time:"10:30 AM - 11:15 AM",day:"Sun"},
  {t:"Exocad Cohort 23 (One/One) - Cy Walden",detail:"Weekly on Mondays and Fridays, 1:00 PM - 4:00 PM through March 6, 2026.",date:"2026-02-16",time:"1:00 PM - 4:00 PM",day:"Mon/Fri",recurring:true},
  {t:"Board Meeting",detail:"",date:"2026-02-18",time:"11:00 AM - 12:00 PM",day:"Wed"},
  {t:"Bart and Erik In-office Visit",detail:"",date:"2026-02-24",time:"9:30 AM - 10:30 AM",day:"Tue"},
  {t:"Teddy Bear Clinic",detail:"At Webster School.",date:"2026-03-12",time:"5:00 PM - 7:00 PM",day:"Thu"},
  {t:"Quicksleeper5 Training",detail:"In-office, full day.",date:"2026-05-08",time:"9:00 AM - 5:00 PM",day:"Fri"},
  {t:"ILAPEO April Course (Dr. Maria)",detail:"Full Arches with Immediate Loading. Curitiba, Brazil. April 27-30.",date:"2026-04-27",time:"April 27-30, 2026",day:"Mon-Thu"},
  {t:"ILAPEO: Full Arches with Immediate Loading",detail:"Hands-on course in Curitiba, Brazil. Arrive by 2:00 PM on June 22 for welcome dinner.",date:"2026-06-23",time:"June 23-26, 2026",day:"Tue-Fri"},
];

const travel = [
  {t:"LMT Lab Day / Midwinter Chicago",detail:"Wednesday, February 18 - Saturday, February 21, 2026.",date:"2026-02-18",end:"2026-02-21",hotel:"Bluegreen Vacations Hotel Blake, check-in Feb 18, check-out Feb 22."},
];

const sectorCfg = {
  "Clinical / Training":     {c:"#60A5FA"},
  "Lab / Technology":        {c:"#4ECDC4"},
  "Software / IT":           {c:"#A78BFA"},
  "Admin / HR":              {c:"#F97316"},
  "Marketing / Branding":    {c:"#FF6B6B"},
  "Equipment / Procurement": {c:"#FBBF24"},
  "Finance / Legal":         {c:"#34D399"},
  "Strategy / Business":     {c:"#F472B6"},
  "Facility / Construction": {c:"#FB923C"},
  "Community Outreach":      {c:"#38BDF8"},
  "Regulatory":              {c:"#E879F9"}, // NEW SECTOR
};

const priorityCfg = {
  urgent:  {label:"URGENT - Do Now",bg:"#7F1D1D50",border:"#EF4444",text:"#FCA5A5"},
  soon:    {label:"COMING UP - Feb/March",bg:"#78350F40",border:"#F59E0B",text:"#FCD34D"},
  upcoming:{label:"UPCOMING - April-June",bg:"#1E3A5F40",border:"#3B82F6",text:"#93C5FD"},
  done:    {label:"ON TRACK / COMPLETED",bg:"#14532D40",border:"#22C55E",text:"#86EFAC"},
};

let selectedSector = null;
let selectedOwner = null;
let currentView = "actions";
let searchQuery = "";

let checkedItems = {};
try { checkedItems = JSON.parse(localStorage.getItem("sd-tracker-checks")||"{}"); } catch(e){}
function saveChecks(){ try { localStorage.setItem("sd-tracker-checks",JSON.stringify(checkedItems)); } catch(e){} }

const allOwners = [...new Set([...tasks.map(t=>t.o),...actions.map(a=>a.o)].filter(Boolean))].sort();

const allDates = [...new Set(tasks.map(t=>t.d))].sort();
const sectorCounts = {};
tasks.forEach(t => { sectorCounts[t.s] = (sectorCounts[t.s]||0)+1; });
const sortedSectors = Object.entries(sectorCfg).sort((a,b) => (sectorCounts[b[0]]||0) - (sectorCounts[a[0]]||0));

function fmt(d){return new Date(d+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"})}
function fmtShort(d){return new Date(d+"T12:00:00").toLocaleDateString("en-US",{month:"numeric",day:"numeric"})}
function weekday(d){return new Date(d+"T12:00:00").toLocaleDateString("en-US",{weekday:"short"})}

function matchSearch(text){
  if(!searchQuery) return true;
  return text.toLowerCase().includes(searchQuery);
}

function getFiltered(){
  let list = tasks;
  if(selectedSector) list = list.filter(t=>t.s===selectedSector);
  if(selectedOwner) list = list.filter(t=>t.o===selectedOwner);
  if(searchQuery) list = list.filter(t=>matchSearch(t.n)||matchSearch(t.s)||(t.o&&matchSearch(t.o)));
  return list;
}

function renderFilters(){
  const el=document.getElementById("filter-wrap");
  const actionSectorCounts = {};
  actions.forEach(a=>{ a.tags.forEach(tag=>{ actionSectorCounts[tag]=(actionSectorCounts[tag]||0)+1; }); });

  const counts = currentView==="actions" ? actionSectorCounts : sectorCounts;
  const total = currentView==="actions" ? actions.length : tasks.length;

  let h=`<button class="filter-btn ${!selectedSector?'active':''}" onclick="selectSector(null)">All (${total})</button>`;
  sortedSectors.forEach(([name,cfg])=>{
    const active=selectedSector===name;
    const count=counts[name]||0;
    if(!count) return;
    const style=active?`border-color:${cfg.c}44;background:${cfg.c}18;color:${cfg.c}`:'';
    h+=`<button class="filter-btn ${active?'active':''}" style="${style}" onclick="selectSector('${name}')">`;
    h+=`<span class="dot" style="background:${cfg.c};opacity:${active?1:0.5}"></span>`;
    h+=`${name} (${count})</button>`;
  });
  el.innerHTML=h;
}

function renderOwnerFilter(){
  const wrap=document.getElementById("owner-filter-wrap");
  if(!allOwners.length){wrap.className="owner-filters hidden";return;}
  wrap.className="owner-filters";
  let h=`<button class="owner-btn ${!selectedOwner?'active':''}" onclick="selectOwner(null)">All owners</button>`;
  allOwners.forEach(o=>{
    h+=`<button class="owner-btn ${selectedOwner===o?'active':''}" onclick="selectOwner('${o}')">${o}</button>`;
  });
  wrap.innerHTML=h;
}

function renderActions(){
  const filteredActions = actions.filter(a=>{
    if(selectedSector && !a.tags.includes(selectedSector)) return false;
    if(selectedOwner && a.o !== selectedOwner) return false;
    if(searchQuery && !matchSearch(a.t) && !matchSearch(a.detail) && !a.tags.some(t=>matchSearch(t)) && !(a.o && matchSearch(a.o))) return false;
    return true;
  });

  let h='';
  
  // Create collapsible subsections within each priority group
  ["urgent","soon","upcoming","done"].forEach(p=>{
    const items=filteredActions.filter(a=>a.p===p);
    if(!items.length) return;
    const cfg=priorityCfg[p];
    
    // Group by category for subsections
    const grouped = {};
    items.forEach(item => {
      const primaryTag = item.tags[0] || 'Other';
      if (!grouped[primaryTag]) grouped[primaryTag] = [];
      grouped[primaryTag].push(item);
    });
    
    h+=`<div class="priority-group">`;
    h+=`<div class="priority-header"><span class="priority-badge" style="background:${cfg.bg};color:${cfg.text};border:1px solid ${cfg.border}30">${cfg.label}</span>`;
    h+=`<span class="priority-count">${items.length} items</span></div>`;
    
    Object.entries(grouped).forEach(([category, categoryItems]) => {
      const sectorColor = (sectorCfg[category] || {c:'#888'}).c;
      h+=`<div class="subsection">`;
      h+=`<div class="subsection-header collapsible" onclick="toggleSubsection(this)">${category} (${categoryItems.length})</div>`;
      h+=`<div class="subsection-content">`;
      
      categoryItems.forEach((item,i)=>{
        const key=p+'-'+actions.indexOf(item);
        const checked=checkedItems[key];
        h+=`<div class="action-item">`;
        h+=`<div class="action-check ${checked?'checked':''}" onclick="toggleCheck('${key}')"></div>`;
        h+=`<div class="action-body">`;
        h+=`<div class="action-title ${checked?'done':''}">${item.t}</div>`;
        h+=`<div class="action-detail">${item.detail}</div>`;
        h+=`<div class="action-tags">`;
        item.tags.forEach(tag=>{
          const tc=(sectorCfg[tag]||{c:'#888'}).c;
          h+=`<span class="action-tag" style="background:${tc}20;color:${tc}">${tag}</span>`;
        });
        if(item.o) h+=`<span class="action-owner-tag">${item.o}</span>`;
        h+=`</div></div></div>`;
      });
      
      h+=`</div></div>`;
    });
    
    h+=`</div>`;
  });
  document.getElementById("actions-view").innerHTML=h;
}

function toggleSubsection(header) {
  header.classList.toggle('collapsed');
  const content = header.nextElementSibling;
  content.classList.toggle('collapsed');
}

function renderCalendar(){
  const filteredMeetings = meetings.filter(m=>{
    if(searchQuery && !matchSearch(m.t) && !matchSearch(m.detail)) return false;
    return true;
  });
  const filteredTravel = travel.filter(t=>{
    if(searchQuery && !matchSearch(t.t) && !matchSearch(t.detail)) return false;
    return true;
  });

  let h='';
  h+=`<div class="cal-section">`;
  h+=`<div class="cal-section-header"><span class="cal-icon">üìÖ</span> Meetings &amp; Training</div>`;
  filteredMeetings.forEach(m=>{
    const d=new Date(m.date+"T12:00:00");
    const mon=d.toLocaleDateString("en-US",{month:"short"}).toUpperCase();
    const day=d.getDate();
    h+=`<div class="cal-event meeting">`;
    h+=`<div class="cal-date-badge"><div class="cal-month">${mon}</div><div class="cal-day">${day}</div><div class="cal-weekday">${m.day}</div></div>`;
    h+=`<div class="cal-body"><div class="cal-title">${m.t}${m.recurring?'<span class="cal-recurring">RECURRING</span>':''}</div>`;
    h+=`<div class="cal-time">${m.time}</div>`;
    if(m.detail)h+=`<div class="cal-detail">${m.detail}</div>`;
    h+=`</div></div>`;
  });
  h+=`</div>`;
  h+=`<div class="cal-section">`;
  h+=`<div class="cal-section-header"><span class="cal-icon">‚úàÔ∏è</span> Travel &amp; Conferences</div>`;
  filteredTravel.forEach(t=>{
    const d=new Date(t.date+"T12:00:00");
    const mon=d.toLocaleDateString("en-US",{month:"short"}).toUpperCase();
    const day=d.getDate();
    h+=`<div class="cal-event travel">`;
    h+=`<div class="cal-date-badge"><div class="cal-month">${mon}</div><div class="cal-day">${day}</div><div class="cal-weekday"></div></div>`;
    h+=`<div class="cal-body"><div class="cal-title">${t.t}</div>`;
    h+=`<div class="cal-detail">${t.detail}</div>`;
    if(t.hotel)h+=`<div class="cal-hotel">üè® ${t.hotel}</div>`;
    h+=`</div></div>`;
  });
  h+=`</div>`;
  document.getElementById("calendar-view").innerHTML=h;
}

function renderTimeline(){
  const filtered=getFiltered();
  let h='';
  allDates.forEach(date=>{
    const dayTasks=filtered.filter(t=>t.d===date);
    if(!dayTasks.length)return;
    const isToday=date===TODAY;
    h+=`<div class="day-group"><div class="day-header">`;
    h+=`<span class="day-date ${isToday?'today':''}">${fmt(date)}</span>`;
    h+=`<span class="day-weekday">${weekday(date)}</span>`;
    h+=`<span class="day-count">${dayTasks.length}</span>`;
    h+=`<div class="day-line"></div></div>`;
    dayTasks.forEach(t=>{
      const cfg=sectorCfg[t.s]||{c:"#888"};
      const isMilestone = t.ms;
      h+=`<div class="task-row${isMilestone?' milestone':''}">`;
      h+=`<span class="task-dot" style="background:${cfg.c}"></span>`;
      h+=`<span class="task-name">${t.n}</span>`;
      h+=`<span class="task-sector" style="color:${cfg.c}">${t.s}</span>`;
      if(t.em)h+=`<span class="task-new">NEW</span>`;
      if(isMilestone)h+=`<span class="task-ms">MILESTONE</span>`;
      if(t.o)h+=`<span class="task-owner">${t.o}</span>`;
      h+=`</div>`;
    });
    h+=`</div>`;
  });
  document.getElementById("timeline-view").innerHTML=h;
}

function renderSummary(){
  const filtered = getFiltered();
  const stats = {
    total: filtered.length,
    done: filtered.filter(t => taskStatus(t) === "done").length,
    inProgress: filtered.filter(t => taskStatus(t) === "in-progress").length,
    pending: filtered.filter(t => taskStatus(t) === "pending").length,
    milestones: filtered.filter(t => t.ms).length
  };
  
  const heat = {};
  filtered.forEach(t => {
    const date = t.d;
    heat[date] = (heat[date] || 0) + 1;
  });
  
  const maxTasks = Math.max(...Object.values(heat));
  
  let h = `<div class="section-title">Activity Heatmap</div>`;
  h += `<div class="heatmap-wrap"><div class="heatmap">`;
  
  allDates.forEach(date => {
    const count = heat[date] || 0;
    const intensity = count / maxTasks;
    const opacity = Math.max(0.1, intensity);
    const color = intensity > 0.7 ? '#EF4444' : intensity > 0.4 ? '#F59E0B' : '#3B82F6';
    
    h += `<div class="heat-cell">`;
    h += `<div class="heat-box" style="background:${color}${Math.floor(opacity*255).toString(16).padStart(2,'0')};border:1px solid ${color}44">${count || ''}</div>`;
    h += `<div class="heat-label">${fmtShort(date)}</div>`;
    h += `</div>`;
  });
  
  h += `</div></div>`;
  
  h += `<div class="section-title">By Category</div>`;
  Object.entries(sectorCfg).forEach(([name, cfg]) => {
    const count = filtered.filter(t => t.s === name).length;
    if (!count) return;
    const width = (count / stats.total * 100);
    
    h += `<div class="bar-row">`;
    h += `<span class="bar-label" style="color:${cfg.c}">${name}</span>`;
    h += `<div class="bar-track"><div class="bar-fill" style="background:${cfg.c};width:${width}%"></div></div>`;
    h += `<span class="bar-count" style="color:${cfg.c}">${count}</span>`;
    h += `</div>`;
  });
  
  h += `<div class="stats">`;
  h += `<div class="stat"><div class="stat-value">${stats.total}</div><div class="stat-label">TOTAL</div></div>`;
  h += `<div class="stat"><div class="stat-value">${stats.done}</div><div class="stat-label">DONE</div></div>`;
  h += `<div class="stat"><div class="stat-value">${stats.inProgress}</div><div class="stat-label">IN PROGRESS</div></div>`;
  h += `<div class="stat"><div class="stat-value">${stats.pending}</div><div class="stat-label">PENDING</div></div>`;
  h += `<div class="stat"><div class="stat-value">${stats.milestones}</div><div class="stat-label">MILESTONES</div></div>`;
  h += `</div>`;
  
  document.getElementById("summary-view").innerHTML = h;
}

function renderOrg(){
  let h = `<div class="org-container">`;
  
  // Main parent organization
  h += `<div class="org-entity">`;
  h += `<div class="org-header collapsible" onclick="toggleOrgSection(this)">`;
  h += `üè¢ SCHMHA (Schuyler County Mental Health Association)`;
  h += `</div>`;
  h += `<div class="org-subtitle collapsible-content">Parent nonprofit organization</div>`;
  h += `<div class="collapsible-content">`;
  h += `<div class="org-member">`;
  h += `<span class="org-role-badge">ED</span> Reggie Stambaugh`;
  h += `</div>`;
  h += `</div>`;
  h += `</div>`;
  
  // Main practice
  h += `<div class="org-entity">`;
  h += `<div class="org-header collapsible" onclick="toggleOrgSection(this)" style="border-left: 4px solid #60A5FA; padding-left: 12px;">`;
  h += `ü¶∑ Schuyler Dental PLLC`;
  h += `</div>`;
  h += `<div class="org-subtitle collapsible-content">Opening <span class="org-date-badge">July 1, 2026</span></div>`;
  h += `<div class="collapsible-content">`;
  
  h += `<div class="org-branch">`;
  h += `<div class="subsection">`;
  h += `<div class="subsection-header collapsible" onclick="toggleSubsection(this)">üëë Leadership</div>`;
  h += `<div class="subsection-content">`;
  h += `<div class="org-member">Dr. Amit Kumar <span class="org-role-badge">Owner/Dentist</span></div>`;
  h += `<div class="org-member">Dr. Maria <span class="org-role-badge">Associate</span> <span class="org-date-badge">July 1</span></div>`;
  h += `</div></div>`;
  
  h += `<div class="subsection">`;
  h += `<div class="subsection-header collapsible" onclick="toggleSubsection(this)">‚öôÔ∏è Operations</div>`;
  h += `<div class="subsection-content">`;
  h += `<div class="org-member">Brandy Spears <span class="org-role-badge">Office Manager</span></div>`;
  h += `</div></div>`;
  
  h += `<div class="subsection">`;
  h += `<div class="subsection-header collapsible" onclick="toggleSubsection(this)">üî¨ Lab</div>`;
  h += `<div class="subsection-content">`;
  h += `<div class="org-member">Cy Walden <span class="org-role-badge">Lab Director</span></div>`;
  h += `</div></div>`;
  
  h += `<div class="subsection">`;
  h += `<div class="subsection-header collapsible" onclick="toggleSubsection(this)">üìã Admin/HR</div>`;
  h += `<div class="subsection-content">`;
  h += `<div class="org-member">Diane <span class="org-role-badge">Admin/HR</span></div>`;
  h += `</div></div>`;
  
  h += `<div class="subsection">`;
  h += `<div class="subsection-header collapsible" onclick="toggleSubsection(this)">üìà Strategy</div>`;
  h += `<div class="subsection-content">`;
  h += `<div class="org-member">Valantis <span class="org-role-badge">Strategy</span> <span class="org-date-badge">Feb 23</span></div>`;
  h += `</div></div>`;
  
  h += `<div class="subsection">`;
  h += `<div class="subsection-header collapsible" onclick="toggleSubsection(this)">üè• Clinical</div>`;
  h += `<div class="subsection-content">`;
  h += `<div class="org-member">Skylar <span class="org-role-badge">Clinical</span></div>`;
  h += `<div class="org-member">Ana <span class="org-role-badge">DA</span> <span class="org-date-badge">Mar 1</span></div>`;
  h += `<div class="org-member">Jerid <span class="org-role-badge">DA</span></div>`;
  h += `</div></div>`;
  
  h += `<div class="subsection">`;
  h += `<div class="subsection-header collapsible" onclick="toggleSubsection(this)">üóÇÔ∏è Front Desk</div>`;
  h += `<div class="subsection-content">`;
  h += `<div class="org-member">Taylor <span class="org-role-badge">Front Desk</span></div>`;
  h += `<div class="org-member">Kylie <span class="org-role-badge">Front Desk</span></div>`;
  h += `</div></div>`;
  
  h += `<div class="subsection">`;
  h += `<div class="subsection-header collapsible" onclick="toggleSubsection(this)">ü¶∑ Hygiene</div>`;
  h += `<div class="subsection-content">`;
  h += `<div class="org-member">Lizzet <span class="org-role-badge">Hygienist</span></div>`;
  h += `<div class="org-member">Teea <span class="org-role-badge">Hygienist</span></div>`;
  h += `<div class="org-member">Kimberly <span class="org-role-badge">Hygienist</span></div>`;
  h += `</div></div>`;
  
  h += `</div>`;
  h += `</div>`;
  h += `</div>`;
  
  // Management entity
  h += `<div class="org-entity">`;
  h += `<div class="org-header" style="border-left: 4px solid #F472B6; padding-left: 12px;">`;
  h += `üè¢ Kumar Management Group`;
  h += `</div>`;
  h += `<div class="org-subtitle">Management entity</div>`;
  h += `</div>`;
  
  // Dental school
  h += `<div class="org-entity">`;
  h += `<div class="org-header collapsible" onclick="toggleOrgSection(this)" style="border-left: 4px solid #FBBF24; padding-left: 12px;">`;
  h += `üéì Schuyler Career Institute`;
  h += `</div>`;
  h += `<div class="org-subtitle collapsible-content">Dental assisting school</div>`;
  h += `<div class="collapsible-content">`;
  h += `<div class="org-member">Diane <span class="org-role-badge">Liaison</span></div>`;
  h += `</div>`;
  h += `</div>`;
  
  h += `</div>`;
  
  document.getElementById("org-view").innerHTML = h;
}

function toggleOrgSection(header) {
  header.classList.toggle('collapsed');
  const content = header.parentElement.querySelectorAll('.collapsible-content');
  content.forEach(el => el.classList.toggle('collapsed'));
}

function selectSector(sector) {
  selectedSector = sector;
  render();
}

function selectOwner(owner) {
  selectedOwner = owner;
  render();
}

function toggleCheck(key) {
  checkedItems[key] = !checkedItems[key];
  if (!checkedItems[key]) delete checkedItems[key];
  saveChecks();
  renderActions();
}

function setView(view) {
  currentView = view;
  document.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
  document.getElementById(`btn-${view}`).classList.add('active');
  document.querySelectorAll('.content > div').forEach(d => d.classList.add('hidden'));
  document.getElementById(`${view}-view`).classList.remove('hidden');
  
  if (view === 'org') {
    document.getElementById('filter-wrap').style.display = 'none';
    document.getElementById('owner-filter-wrap').style.display = 'none';
  } else {
    document.getElementById('filter-wrap').style.display = 'flex';
    document.getElementById('owner-filter-wrap').style.display = allOwners.length ? 'flex' : 'none';
  }
  
  render();
}

function onSearch() {
  const input = document.getElementById('search-input');
  searchQuery = input.value.toLowerCase().trim();
  render();
}

function updateSubtitle() {
  const totalTasks = tasks.length;
  const totalActions = actions.length;
  const completedTasks = tasks.filter(t => taskStatus(t) === "done").length;
  const completedActions = Object.keys(checkedItems).length;
  const completionPct = Math.round(((completedTasks + completedActions) / (totalTasks + totalActions)) * 100);
  
  document.getElementById('subtitle').textContent = 
    `${totalTasks} timeline tasks ‚Ä¢ ${totalActions} action items ‚Ä¢ ${completionPct}% complete ‚Ä¢ Updated Feb 2026`;
}

function render() {
  switch(currentView) {
    case 'actions': renderActions(); break;
    case 'calendar': renderCalendar(); break;
    case 'timeline': renderTimeline(); break;
    case 'summary': renderSummary(); break;
    case 'org': renderOrg(); break;
  }
  renderFilters();
  renderOwnerFilter();
  updateSubtitle();
}

// Initialize
render();
</script>

</body>
</html>